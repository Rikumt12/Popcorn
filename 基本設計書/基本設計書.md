# ECサイト 基本設計書 

 

| ドキュメントバージョン | 1.0 | 

|---|---| 

| 作成日 | 2025年7月2日 | 

| 作成チーム | ECサイト開発チーム | 

| 承認者 | 株式会社〇〇 プロジェクト責任者 | 

| 更新履歴 | 2025/07/02: 初版作成 | 
 

## 1. はじめに 

### 1.1 本書の目的 

本書は、株式会社〇〇のECサイト新規構築プロジェクトにおける基本設計の内容を定義するものである。要件定義書で定められた要件に基づき、システムの全体構成、主要な機能、画面、データ、非機能要件への対応方針などを明確にし、後続の詳細設計、実装、テスト工程のインプットとすることを目的とする。 

 

### 1.2 プロジェクト概要 

より多くの顧客に商品を届けるため、新たにECサイトを構築し、販路の拡大とブランドの価値向上を目指す。本プロジェクトはその第一歩として、基本機能を備えたECサイトを短期間で立ち上げるものである。 

 

### 1.3 前提知識 
株式会社〇〇は、実店舗でデザイン性の高い雑貨（文房具、キッチン小物等）を販売しているが、販売地域が限られ、新規顧客の獲得に課題を抱えていた。また、SNSでの個別対応による受注は、工数がかかり効率が悪いという問題もある。 
 

## 2. システム概要 

### 2.1 システム目的 
- オンライン販売チャネルの新規構築により、顧客の購入利便性を高める   

- 商品の魅力が伝わる、シンプルかつ洗練されたデザインのWebサイトを提供する   

- スマートフォンからも快適に利用できるECサイトを構築する   
 

### 2.2 対象ユーザー 

- 管理者：商品登録・更新、受注管理、出荷処理、売上管理、サイト設定等を行う。主にクライアント企業の担当者が想定される。 

- 一般利用者：オンライン販売サイトを通じて商品検索・閲覧・購入を行うエンドユーザー。 

 

### 2.3 システム構成図 

システム全体のハードウェア、ソフトウェア、ネットワーク構成。 

```mermaid
graph LR
    subgraph ユーザークライアント
        A[一般ユーザー（PC・スマホ）]
        A2[管理者（PC）]
    end

    subgraph クラウド環境
        subgraph アプリケーションサーバー
            B[ECサイトアプリケーション（Web/APサーバー）]
        end

        subgraph データベース
            C[商品・注文DB]
        end

        subgraph ストレージ
            D[顧客情報]
        end

        subgraph 認証サービス
            E[ログイン機能]
        end
    end

    A -->|HTTPS| B
    A2 -->|HTTPS| B
    B --> C
    B --> D
    B --> E
```  

### 2.4 外部インターフェース概要 

外部システムとの連携方式やデータの概要。 

 

## 3. 機能設計 

### 3.1 機能一覧  

### 3.2 機能構成図 

```mermaid
graph TD
    A[ECサイトシステム] --> B(商品閲覧機能)
    A --> C(カート機能)
    A --> D(注文処理機能)
    A --> E(管理機能)

    subgraph B[商品閲覧機能]
        B1[商品一覧表示]
        B2[商品詳細表示]
        B3[カテゴリ検索]
    end

    subgraph C[カート機能]
        C1[商品追加]
        C2[数量変更]
        C3[商品削除]
        C4[カート内容表示]
    end

    subgraph D[注文処理機能]
        D1[注文情報入力（氏名・住所・連絡先）]
        D2[注文内容確認]
        D3[注文確定]
    end

    subgraph E[管理機能]
        E1[商品登録・編集・削除]
        E2[受注管理]
        E3[出荷処理]
        E4[カテゴリ管理]
    end

    E1 --> B1
    D3 --> E2
    E4 --> B3

    style A fill:#f9f,stroke:#333,stroke-width:2px
```

### 3.3 主要機能フロー 

特に重要な機能について、処理の流れを示した図や説明（注文処理フロー）。 
```mermaid
graph TD
    A[1.商品情報の取得] --> B[商品データベースから情報を取得]
    B --> C[カテゴリーや検索条件に応じてフィルタリング]
    C --> D[レスポンシブUIで表示（モバイル対応）]

    D --> E[2.カート処理]
    E --> F[商品をカートに追加]
    F --> G[セッション/ローカルストレージに商品を保持]
    G --> H[数量変更・削除が可能]
    H --> I[合計金額や在庫状況を確認]

    I --> J[3.注文確定処理]
    J --> K[注文内容確認・確定ボタン押下（顧客）]
    K --> L[サーバーで注文情報を受け取りDBに保存]
    L --> M[在庫数を減算]
    M --> N[管理者に受注情報を通知]
```

**1. 商品情報の取得**

機能: 商品一覧・詳細表示、カテゴリー別表示 

処理:
①商品データベースから情報を取得 
②カテゴリーや検索条件に応じてフィルタリング 
③モバイル対応のレスポンシブUIで表示 

**2. カート処理**

機能: カートに追加、カート内編集 

処理: 
①セッションまたはローカルストレージに商品情報を保持
②数量変更・削除などの操作を可能にする 
③合計金額や在庫状況の確認 

**3. 注文確定処理**

機能: 注文確定（決済機能なし） 

処理: 
①顧客が注文内容を確認し、確定ボタンを押す 
②サーバー側で注文情報を受け取り、DBに保存 
③在庫数を減算 
④管理者向けに受注情報を通知 

## 4. 画面設計 

### 4.1 画面一覧 
- **EC1101:トップページ** 

    - オンライン販売サイトの起点となる画面。サイトのブランドイメージを伝えるバナーを配置し、商品一覧やカート画面等に遷移しやすい構成。 

- **EC1301:ログイン画面** 

    - 既に登録済みのユーザーが、メールアドレスとパスワードを入力してログインする画面。マイページや購入手続きなど、会員専用機能にアクセスするための入り口となる。 

- **EC1302:マイページ** 

    - ログイン中のユーザーが、自身のアカウント情報を確認・管理できる画面。 

- **EC1102: 商品一覧画面** 

    - オンライン販売サイトに登録されている商品を一覧表示する画面。商品はカテゴリ別に表示され、キーワード検索やカテゴリ絞り込み、在庫数の表示、価格順価格順並び替えなどフィルター機能を配置。 

    - 商品カードには、商品画像、商品名、価格を含み、「詳細」から商品詳細画面（EC1103）への導線となる。 

- **EC1103: 商品詳細画面** 

    - 選択した商品の詳細情報を表示。価格、商品説明、在庫数、画像、レビューなどを確認可能。「カートに入れる」ボタンを設置。 

- **EC1201:カート画面** 

    - ユーザーが選んだ商品を一覧表示。数量変更や削除が可能。購入手続き（レジに進む）への導線を提供。 

- **EC1201:情報入力画面** 

    - 商品購入時に、購入者の氏名・住所・連絡先などを入力する画面。ログインしていないユーザーに対しては、会員登録せずに購入できる「ゲスト購入」として、配送・連絡に必要な個人情報を収集する。 

- **EC1202: 購入確認画面** (または備品一覧画面内に管理者用メニューを配置) 

    - 配送先情報、支払方法、注文内容の最終確認を行う画面。「購入確定」ボタンで注文を完了させる。 

- **EC1203: 購入完了画面**  

    - 注文処理完了後に表示される画面。注文番号や確認メール送信の案内を表示。トップページやマイページへのリンクを設置。 

 

- **EC2001: 管理者向けトップページ**   (管理者向け) 

    - 管理者がログインするための認証画面。メールアドレスとパスワードの入力フォームを提供。 

- **EC2002: 商品管理画面** (管理者向け) 

    - 録済み商品を一覧表示・検索・絞り込みできる画面。編集・削除ボタン付き。商品追加画面へのリンクも設置。 

- **EC2003: 商品登録・編集画面** (管理者向け) 

    - 商品情報（名前、価格、在庫数、説明、画像など）を新規登録・編集できる画面。登録済み商品の内容変更も可能。 

- **EC2004: 受注管理画面** (管理者向け) 

    - ユーザーからの注文一覧を表示し、注文の詳細確認、出荷状況の更新などを行う画面。検索・絞り込み機能も提供。 

- **EC2005: ユーザ管理画面** (管理者向け) 

    - 会員登録済みのユーザーを一覧・検索・管理するための管理者用画面。個々のユーザー情報の確認や編集、強制退会処理などを行う。 

- **EC2006: サイト設定画面** (管理者向け) 

    - ECサイト全体の設定を管理する画面。営業日、消費税率、メールテンプレート、バナー画像などの基本的なサイト運用に関わる項目を設定できる。 

- (その他、必要に応じて画面を追加) 
 

### 4.2 画面遷移図 

画面間の遷移の流れを示した図。 

```mermaid
graph TD 
    A[EC1101:トップページ] -- ログインする --> B(EC1301:ログイン画面); 
    B -- ログイン成功 --> C(EC1302:マイページ); 
    C -- 編集 --> C; 
    A -- 商品一覧ボタン --> D(EC1102: 商品一覧画面); 
    D -- 商品クリック --> E(EC1103: 商品詳細画面); 
    E -- カートに入れる --> F[EC1201:カート画面]; 
    F -- 購入する --> G[EC1202: 個人情報入力画面]; 
    G -- 入力完了 --> H[EC1203: 購入確認画面]; 
    H -- 確認完了 --> I[EC1203: 購入完了画面]; 
    E -- 備品一覧へ --> B; 
    B --トップページへ --> A; 
    C -- トップページへ --> A; 
    D -- トップページへ --> A; 
    E -- トップページへ --> A; 
    F --トップページへ --> A; 
    G -- トップページへ --> A; 
    H -- トップページへ --> A; 
    I -- トップページへ --> A;
    A --カートへ --> F;
    F --他の商品を探す --> D;
    D --ログインする --> B;
    E --ログインする --> B;
    F --ログインする --> B;
    G --ログインする --> B;
    D --一覧へ戻る --> E;
    C --ログアウト --> B;
    style A fill:#f9f,stroke:#333,stroke-width:1px 
    style B fill:#ccffcc,stroke:#333,stroke-width:1px 
    style C fill:#ccffcc,stroke:#333,stroke-width:1px 
    style D fill:#ccf,stroke:#333,stroke-width:1px 
    style E fill:#ccf,stroke:#333,stroke-width:1px,color:#000 
    style F fill:#ffebcc,stroke:#333,stroke-width:1px,color:#000 
    style G fill:#ffebcc,stroke:#333,stroke-width:1px,color:#000 
    style H fill:#ffebcc,stroke:#333,stroke-width:1px,color:#000 
    style I fill:#ffebcc,stroke:#333,stroke-width:1px,color:#000 
``` 

```mermaid
graph TD 
    A[ EC2001: 管理者向けトップページ] -- ログイン成功 --> B(EC2002: 商品管理画面); 
    B -- 備品選択 --> C(EC2003: 商品登録・編集画面); 
    B -- 入出庫ボタン --> D(EC2004: 受注管理画面); 
    A -- 管理者メニュー --> E(EC2005: ユーザ管理画面); 
    A -- ユーザー管理 --> F[EC2006: サイト設定画面]; 
    B -- ログアウト --> A; 
    C -- ログアウト --> A; 
    D -- ログアウト --> A; 
    E -- ログアウト --> A; 
    F -- ログアウト --> A; 
    style A fill:#f9f,stroke:#333,stroke-width:1px 
    style B fill:#ccf,stroke:#333,stroke-width:1px 
    style C fill:#ccf,stroke:#333,stroke-width:1px 
    style D fill:#ccf,stroke:#333,stroke-width:1px 
    style E fill:#ffebcc,stroke:#333,stroke-width:1px,color:#000 
    style F fill:#ffebcc,stroke:#333,stroke-width:1px,color:#000 
```

 

### 4.3 UI/UX基本方針 

画面設計における基本的な考え方、デザイン原則など。 

- **シンプルさ**: ECサイトとしての主目的である商品閲覧→購入を阻害しないよう、不要な情報や要素は極力省き、直感的なナビゲーション構成とする。トップページから商品一覧/詳細/カートへの導線は明確にし、購入までをスムーズにできるよう設計。非会員でも購入可能なフローを重視。 

- **一貫性**: ボタンの配置、フォントサイズ、ラベル文言、エラーメッセージの表示形式などを全画面で共通のスタイルを使用し、システム全体で統一する。 

- **視認性**: 白を基調としたデザインで、清潔感とブランドイメージの両立を図る。フォントは可読性の高いものを使用。サイズや行間はスマートフォンでも見やすいバランスに調整。コントラスト比、文字サイズ、カラーだけで状態を表さないなどアクセシビリティに配慮。 

- **効率性と操作負担の軽減**: 商品一覧→カート→購入などよく使う操作を最小のステップで完結できるよう設計。入力フォームは自動入力や郵便番号による住所の補完など入力支援の導入。ログイン済ユーザーには情報の自動補完を行い、購入の高速化を目指す。 

- **フィードバック**: ユーザーの操作に対して、即時に視覚的・文言によるフィードバックを明確に表示。完了形の画面では、明確に結果（成功/失敗）を表示し、次のアクション（トップページへ戻る等）を提示。 

- **モバイルファースト対応**: 主な利用端末としてスマートフォンを重視し、タッチ操作と画面サイズに最適化されたレイアウト・ナビゲーションを設計。PC/スマホいずれでも破綻しない表示と操作性を確保。 

- **ブランドイメージとの整合**: デザイン性の高い雑貨を扱うブランド特性に合わせ、洗練されたミニマルなデザインを採用。商品写真の見せ方にも配慮し、商品そのものの魅力を際立たせるUIとする。カラーはモノトーン基調にアクセントカラーを最低限使用。落ち着きと信頼感を演出。 

- **将来的な拡張への配慮**: 今後追加される予定のクレジット決済機能などに備え、UIの拡張性と配置の余白設計をあらかじめ考慮。一時的に未使用な要素（レビュー、評価など）のUIコンポーネントは将来的に差し込みができるような構造で設計。 

 

### 4.4 主要画面のワイヤーフレーム（必要に応じて） 

- 商品一覧画面ワイヤーフレーム 

- 受注・出荷管理画面ワイヤーフレーム 

 

### 4.5. 主要画面項目定義（例：商品一覧画面） 

 

## 5. データ設計 

### 5.1 概念データモデル（ER図） 

```mermaid

erDiagram
    CUSTOMERS ||--o{ ORDERS : "places"
    CUSTOMERS }o--|| ROLES : "has"
    PRODUCTS }o--|| CATEGORIES : "belongs to"
    ORDERS ||--o{ ORDER_ITEMS : "includes"
    PRODUCTS ||--o{ ORDER_ITEMS : "ordered in"

    CUSTOMERS {
        string customer_id PK "顧客ID"
        string name "氏名"
        string email "メールアドレス"
        string password "パスワード（ハッシュ化）"
        int role_id FK "ロールID (1:一般ユーザー)"
        datetime created_at "登録日時"
        datetime updated_at "更新日時"
    }
    ROLES {
        int role_id PK "ロールID (1:管理者, 2:一般ユーザー)"
        string role_name "ロール名"
    }
    PRODUCTS {
        string product_id PK "商品ID"
        string name "商品名"
        string description "商品説明"
        string image_url "商品画像URL"
        int category_id FK "カテゴリID"
        decimal price "価格"
        boolean active_flag "有効フラグ（true:有効、false:論理削除）"
        datetime created_at "登録日時"
        datetime updated_at "更新日時"
    }
    CATEGORIES {
        int category_id PK "カテゴリID"
        string category_name "カテゴリ名"
    }
    ORDERS {
        string order_id PK "注文ID"
        string customer_id FK "顧客ID"
        string payment_method "支払方法（銀行振込／代金引換）"
        string shipping_address "配送先住所"
        string order_status "注文ステータス（例：受付済、発送済）"
        datetime order_date "注文日時"
    }
    ORDER_ITEMS {
        int order_item_id PK "注文商品ID"
        string order_id FK "注文ID"
        string product_id FK "商品ID"
        int quantity "数量"
        decimal price "注文時の単価"
    }
```
### 5.2 主要テーブル概要 

CUSTOMERS（顧客テーブル） 

一般ユーザー用ECサイトの利用者情報を保持。 

会員登録が任意のため、パスワードをNULL許容する設計も検討可能。 

ロールによってゲスト／会員を分類。 

CUSTOMER_ROLES（顧客ロールマスタ） 

ゲスト、会員などの区分を管理するマスタテーブル。 

PRODUCTS（商品マスタ） 

ECサイト上で販売する商品情報を保持。 

管理画面経由で管理者が登録・更新。 

カテゴリ情報と紐付け、表示用の画像URLも保持。 

CATEGORIES（カテゴリマスタ） 

商品を分類するカテゴリ（キッチン用品、文房具など）を保持。 

カテゴリ別に商品を表示する際に使用。 

ORDERS（注文テーブル） 

顧客の注文情報を保持。 

支払い方法（銀行振込、代引き）、注文ステータスなども保持。 

ORDER_ITEMS（注文商品テーブル） 

注文ごとの購入商品を明細単位で保持。 

商品ごとの単価、数量を記録。 

ADMIN_USERS（管理者ユーザテーブル） 

管理者サイト専用のログインユーザー情報を保持。 

一般ユーザーとは完全に別テーブルで管理。 

商品登録や注文管理等を担当。 

 
 

### 5.3 データフロー概要 

- 登録済ユーザー
```mermaid
sequenceDiagram
    participant User as ユーザー（会員）
    participant UI as Web画面
    participant Backend as アプリケーション
    participant DB as データベース

    User->>UI: ログイン
    UI->>Backend: 認証情報を送信
    Backend->>DB: 会員情報を確認（user_id取得）
    DB-->>Backend: 認証OK（user_idを返す）
    Backend-->>UI: ログイン成功、トップページ表示

    User->>UI: 商品詳細ページを開く（SC0103）
    UI-->>User: 商品情報を表示

    User->>UI: 「カートに追加」クリック
    UI->>Backend: カートに商品追加（user_id付き）
    Backend-->>UI: カート追加成功

    User->>UI: カート画面へ遷移（SC0201）
    UI-->>User: カート内商品を表示

    User->>UI: 「注文手続きへ」クリック
    UI->>Backend: 注文画面表示要求（user_id付き）

    Backend->>DB: user_id から住所・氏名・メールを取得
    DB-->>Backend: 登録済み会員情報を返す
    Backend-->>UI: 会員情報付きの注文確認画面を表示
    UI-->>User: 入力不要で確認のみの画面表示

    User->>UI: 内容確認して「注文確定」

    UI->>Backend: 注文確定を送信（user_idあり）
    Backend->>DB: ORDERS テーブルに注文登録（user_idあり）
    Backend->>DB: ORDER_ITEMS テーブルに商品明細を登録
    Backend->>DB: PAYMENTS テーブルに「未入金」レコードを登録
    DB-->>Backend: 登録完了

    Backend->>UI: 注文完了画面（注文番号・振込先）を生成
    UI-->>User: 注文完了メッセージを表示

    Note over DB: 会員は後で<br>「注文履歴」画面から内容確認可能
```


&nbsp;
- 非登録ユーザー
```mermaid
sequenceDiagram
    participant User as ユーザー（非会員）
    participant UI as Web画面
    participant Backend as アプリケーション
    participant DB as データベース

    User->>UI: 商品詳細ページを開く（SC0103）
    UI-->>User: 商品情報を表示

    User->>UI: 「カートに追加」クリック
    UI->>Backend: カートに商品追加
    Backend-->>UI: カート追加成功

    User->>UI: カート画面へ遷移（SC0201）
    UI-->>User: カート内商品を表示

    User->>UI: 「注文手続きへ」クリック
    UI-->>User: 注文入力画面表示（SC0202）

    User->>UI: 氏名・メール・住所・支払方法を入力し「注文確定」

    UI->>Backend: 入力内容を送信
    Backend->>DB: ORDERS テーブルに注文登録（user_id = NULL）
    Backend->>DB: ORDER_ITEMS テーブルに商品明細を登録
    Backend->>DB: PAYMENTS テーブルに「未入金」レコードを登録
    DB-->>Backend: 登録完了

    Backend->>UI: 注文完了画面（注文番号・振込先）を生成
    UI-->>User: 注文完了メッセージを表示
```
 

## 6. 非機能要件の対応方針 

- 性能：目標性能値と、それを実現するためのアーキテクチャ上の方針（負荷分散、キャッシュなど）。 

- セキュリティ：セキュリティ要件と、それに対する具体的な対策方針（認証方式、暗号化方針、アクセス制御など）。 

- 可用性：可用性目標と、それを実現するための方針（冗長構成、バックアップ方針など）。 

- その他（保守性、運用性、拡張性など） 

 

## 7. 運用・保守設計の概要 

### 7.1 ログ設計方針 

どのようなログを、どのように出力・管理するか。 

 

### 7.2 監視設計方針 

システムの稼働状況をどのように監視するか。 

 

### 7.3 バックアップ・リカバリ方針 

データのバックアップと復旧に関する方針。 

 

## 8. 制約事項・前提条件 

### 8.1 使用技術スタック 

プログラミング言語、フレームワーク、データベース、ライブラリなど、開発に使用する技術とそのバージョン。 

 

### 8.2 インフラ環境 

利用するクラウドサービスやOSなどの前提条件。 

 

### 8.3 開発・運用ルール 

コーディング規約、バージョン管理ルールなど、プロジェクト固有のルール。 

 

### 8.4 スコープ外 

今回の開発範囲に含まれない事項。 

 

### 8.5 その他前提条件 

 

## 9. 用語集・略語リスト 

- ECサイト：Electronic Commerce Siteの略。Web上で商品を販売するサイト 

- カート機能：ユーザーが購入したい商品を一時的に保管する仮想的な買い物かご機能 

- 決済機能：オンラインでのクレジットカード決済等を処理する機能 

 